{"ast":null,"code":"var _jsxFileName = \"/Users/mirbekmuratov/Desktop/react_chapter_9_updated/src/components/products/ProductList/ProductList.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useContext, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { productsContext } from '../../../contexts/productContext';\nimport ProductCard from '../ProductCard/ProductCard'; // for pagination\n\nimport Pagination from 'react-bootstrap/Pagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductList = () => {\n  _s();\n\n  const {\n    getProducts,\n    products,\n    pages\n  } = useContext(productsContext);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [currentPage, setCurrentPage] = useState(1);\n\n  function getPagesCount() {\n    let pageCountArr = [];\n\n    for (let i = 1; i < pages + 1; i++) {\n      pageCountArr.push(i);\n    }\n\n    ; // console.log(pageCountArr);\n\n    return pageCountArr;\n  }\n\n  ;\n  useEffect(() => {\n    getProducts();\n  }, []);\n  useEffect(() => {\n    getProducts();\n  }, [searchParams]);\n  useEffect(() => {\n    setSearchParams({\n      page: currentPage\n    });\n  }, [currentPage]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Products List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), products === null || products === void 0 ? void 0 : products.map(item => /*#__PURE__*/_jsxDEV(ProductCard, {\n      item: item\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Pagination, {\n      children: [/*#__PURE__*/_jsxDEV(Pagination.Prev, {\n        onClick: () => setCurrentPage(currentPage - 1)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), getPagesCount().map(item => item === currentPage ? /*#__PURE__*/_jsxDEV(Pagination.Item, {\n        onClick: () => setCurrentPage(item),\n        active: true,\n        children: item\n      }, item, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 34\n      }, this) : /*#__PURE__*/_jsxDEV(Pagination.Item, {\n        onClick: () => setCurrentPage(item),\n        children: item\n      }, item, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(Pagination.Next, {\n        onClick: () => setCurrentPage(currentPage + 1)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductList, \"x2bfQ9yYHP7zlqRt7UvVNK9wMk8=\", false, function () {\n  return [useSearchParams];\n});\n\n_c = ProductList;\nexport default ProductList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["React","useEffect","useContext","useState","useSearchParams","productsContext","ProductCard","Pagination","ProductList","getProducts","products","pages","searchParams","setSearchParams","currentPage","setCurrentPage","getPagesCount","pageCountArr","i","push","page","map","item","id"],"sources":["/Users/mirbekmuratov/Desktop/react_chapter_9_updated/src/components/products/ProductList/ProductList.jsx"],"sourcesContent":["import React, { useEffect, useContext, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { productsContext } from '../../../contexts/productContext';\nimport ProductCard from '../ProductCard/ProductCard';\n// for pagination\nimport Pagination from 'react-bootstrap/Pagination';\n\nconst ProductList = () => {\n  const { getProducts, products, pages } = useContext(productsContext);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [currentPage, setCurrentPage] = useState(1);\n\n  function getPagesCount(){\n    let pageCountArr = [];\n    for(let i = 1; i < pages + 1; i++){\n      pageCountArr.push(i);\n    };\n    // console.log(pageCountArr);\n    return pageCountArr;\n  };\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n\n  useEffect(() => {\n    getProducts();\n  }, [searchParams]);\n\n  useEffect(() => {\n    setSearchParams({\n      page: currentPage,\n    });\n  }, [currentPage]);\n\n  return (\n    <div>\n      <h1>Products List</h1>\n      {products?.map(item => (\n        <ProductCard key={item.id} item={item} />\n      ))}\n\n      {/* pagination */}\n      <Pagination>\n        <Pagination.Prev onClick={() => setCurrentPage(currentPage - 1)} />\n\n        {getPagesCount().map(item => (\n          item === currentPage ? <Pagination.Item onClick={() => setCurrentPage(item)} active key={item}>{item}</Pagination.Item> : \n          <Pagination.Item onClick={() => setCurrentPage(item)} key={item}>{item}</Pagination.Item>\n        ))}\n        \n        <Pagination.Next onClick={() => setCurrentPage(currentPage + 1)} />\n      </Pagination>\n    </div>\n  )\n}\n\nexport default ProductList"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,eAAT,QAAgC,kBAAhC;AACA,SAASC,eAAT,QAAgC,kCAAhC;AACA,OAAOC,WAAP,MAAwB,4BAAxB,C,CACA;;AACA,OAAOC,UAAP,MAAuB,4BAAvB;;;AAEA,MAAMC,WAAW,GAAG,MAAM;EAAA;;EACxB,MAAM;IAAEC,WAAF;IAAeC,QAAf;IAAyBC;EAAzB,IAAmCT,UAAU,CAACG,eAAD,CAAnD;EACA,MAAM,CAACO,YAAD,EAAeC,eAAf,IAAkCT,eAAe,EAAvD;EACA,MAAM,CAACU,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAC,CAAD,CAA9C;;EAEA,SAASa,aAAT,GAAwB;IACtB,IAAIC,YAAY,GAAG,EAAnB;;IACA,KAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGP,KAAK,GAAG,CAA3B,EAA8BO,CAAC,EAA/B,EAAkC;MAChCD,YAAY,CAACE,IAAb,CAAkBD,CAAlB;IACD;;IAAA,CAJqB,CAKtB;;IACA,OAAOD,YAAP;EACD;;EAAA;EAEDhB,SAAS,CAAC,MAAM;IACdQ,WAAW;EACZ,CAFQ,EAEN,EAFM,CAAT;EAIAR,SAAS,CAAC,MAAM;IACdQ,WAAW;EACZ,CAFQ,EAEN,CAACG,YAAD,CAFM,CAAT;EAIAX,SAAS,CAAC,MAAM;IACdY,eAAe,CAAC;MACdO,IAAI,EAAEN;IADQ,CAAD,CAAf;EAGD,CAJQ,EAIN,CAACA,WAAD,CAJM,CAAT;EAMA,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAEGJ,QAFH,aAEGA,QAFH,uBAEGA,QAAQ,CAAEW,GAAV,CAAcC,IAAI,iBACjB,QAAC,WAAD;MAA2B,IAAI,EAAEA;IAAjC,GAAkBA,IAAI,CAACC,EAAvB;MAAA;MAAA;MAAA;IAAA,QADD,CAFH,eAOE,QAAC,UAAD;MAAA,wBACE,QAAC,UAAD,CAAY,IAAZ;QAAiB,OAAO,EAAE,MAAMR,cAAc,CAACD,WAAW,GAAG,CAAf;MAA9C;QAAA;QAAA;QAAA;MAAA,QADF,EAGGE,aAAa,GAAGK,GAAhB,CAAoBC,IAAI,IACvBA,IAAI,KAAKR,WAAT,gBAAuB,QAAC,UAAD,CAAY,IAAZ;QAAiB,OAAO,EAAE,MAAMC,cAAc,CAACO,IAAD,CAA9C;QAAsD,MAAM,MAA5D;QAAA,UAAyEA;MAAzE,GAAkEA,IAAlE;QAAA;QAAA;QAAA;MAAA,QAAvB,gBACA,QAAC,UAAD,CAAY,IAAZ;QAAiB,OAAO,EAAE,MAAMP,cAAc,CAACO,IAAD,CAA9C;QAAA,UAAkEA;MAAlE,GAA2DA,IAA3D;QAAA;QAAA;QAAA;MAAA,QAFD,CAHH,eAQE,QAAC,UAAD,CAAY,IAAZ;QAAiB,OAAO,EAAE,MAAMP,cAAc,CAACD,WAAW,GAAG,CAAf;MAA9C;QAAA;QAAA;QAAA;MAAA,QARF;IAAA;MAAA;MAAA;MAAA;IAAA,QAPF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAoBD,CAhDD;;GAAMN,W;UAEoCJ,e;;;KAFpCI,W;AAkDN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}